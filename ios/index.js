"use strict";var r=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var p=Object.prototype.hasOwnProperty;var y=(n,o)=>{for(var a in o)r(n,a,{get:o[a],enumerable:!0})},f=(n,o,a,t)=>{if(o&&typeof o=="object"||typeof o=="function")for(let e of g(o))!p.call(n,e)&&e!==a&&r(n,e,{get:()=>o[e],enumerable:!(t=C(o,e))||t.enumerable});return n};var k=n=>f(r({},"__esModule",{value:!0}),n);var V={};y(V,{default:()=>w,onLoad:()=>d,onUnload:()=>b});module.exports=k(V);var c=[],l=new Map,m=new Set(["kya","hai","hain","nahi","nhi","acha","accha","theek","thik","kaise","kaisa","kyun","kyu","kab","kahan","kaun","kon","mein","main","mujhe","mera","meri","tum","tumhara","aap","yeh","ye","woh","wo","koi","kuch","sab","bahut","bohot","aur","lekin","par","toh","bhi","hi","na","mat","kar","karo","karna","bolo","bol","dekho","dekh","suno","sun","chalo","chal","jao","ja","aao","aa","lo","le","do","de","yaar","bhai","behen","dost","log","ghar","kaam","pata","maloom","samajh","soch","baat","cheez","abhi","baad","pehle","kal","aaj","raat","subah","accha","bura","sahi","galat","zyada","thoda","haan","han","ji","bilkul","zaroor","shayad","masla","mushkil","pareshani","dikkat","taklif","karra","krra","horra","rha","rhi","ho","hy"]);function u(n){if(!n||n.length<3)return!1;let o=n.toLowerCase().split(/\s+/),a=0;for(let t of o){let e=t.replace(/[^a-z]/g,"");m.has(e)&&a++}return a>=2}async function E(n){try{let o=`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=en&dt=t&q=${encodeURIComponent(n)}`,a=await fetch(o);if(!a.ok)return n;let t=await a.json();if(t?.[0]){let e=t[0].filter(s=>s?.[0]).map(s=>s[0]).join("");if(e&&e.toLowerCase()!==n.toLowerCase())return e}}catch(o){console.log("[CCVibe] Translation error:",o)}return n}var d=()=>{console.log("[CCVibe] Plugin loading...");let n;try{n=window.vendetta||window.bunny||window.revenge}catch{console.log("[CCVibe] No global vendetta object")}let o;try{o=require("@vendetta/metro/common")?.FluxDispatcher}catch(a){console.log("[CCVibe] Could not load metro/common:",a)}if(!o)try{let{findByProps:a}=require("@vendetta/metro");o=a("dispatch","subscribe")}catch{console.log("[CCVibe] Could not find FluxDispatcher via findByProps")}if(o?.subscribe){console.log("[CCVibe] Found FluxDispatcher, subscribing to MESSAGE_CREATE");let a=async t=>{try{let e=t?.message;if(!e?.content||typeof e.content!="string")return;if(u(e.content)){console.log("[CCVibe] Detected Hindi:",e.content);let s=l.get(e.content);if(s){e.content=s;return}let i=await E(e.content);if(i!==e.content){let h=`${i} [${e.content}]`;l.set(e.content,h),e.content=h,console.log("[CCVibe] Translated to:",i)}}}catch(e){console.log("[CCVibe] Error in handler:",e)}};o.subscribe("MESSAGE_CREATE",a),c.push(()=>o.unsubscribe("MESSAGE_CREATE",a)),console.log("[CCVibe] Subscribed to MESSAGE_CREATE")}else console.log("[CCVibe] FluxDispatcher not available");try{let{before:a}=require("@vendetta/patcher"),{findByProps:t}=require("@vendetta/metro");if(o&&a){let e=a("dispatch",o,s=>{let i=s[0];return i?.type==="MESSAGE_CREATE"&&i?.message?.content&&u(i.message.content)&&console.log("[CCVibe] Intercepted via dispatch:",i.message.content),s});c.push(e),console.log("[CCVibe] Patched FluxDispatcher.dispatch")}}catch(a){console.log("[CCVibe] Could not set up patcher:",a)}console.log("[CCVibe] Plugin loaded with",c.length,"hooks")},b=()=>{console.log("[CCVibe] Unloading...");for(let n of c)try{n()}catch{}c.length=0,l.clear(),console.log("[CCVibe] Unloaded")},w={onLoad:d,onUnload:b};
