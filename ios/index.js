"use strict";var b=Object.defineProperty;var j=Object.getOwnPropertyDescriptor;var V=Object.getOwnPropertyNames;var M=Object.prototype.hasOwnProperty;var R=(a,e)=>{for(var t in e)b(a,t,{get:e[t],enumerable:!0})},$=(a,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of V(e))!M.call(a,o)&&o!==t&&b(a,o,{get:()=>e[o],enumerable:!(n=j(e,o))||n.enumerable});return a};var H=a=>$(b({},"__esModule",{value:!0}),a);var O={};R(O,{default:()=>W});module.exports=H(O);var m=require("@vendetta/metro"),T=require("@vendetta/metro/common"),k=require("@vendetta/patcher"),y=require("@vendetta/plugin");var S=new Set(["mein","main","mei","mujhe","mera","meri","mere","humara","humari","humare","hum","ham","tum","tumhe","tumhara","tumhari","tumhare","aap","aapka","aapki","apka","apki","unka","unki","uska","uski","isko","usko","inhe","unhe","inka","yeh","ye","woh","wo","yehi","wohi","yahi","wahi","tera","teri","tere","kya","kaise","kaisa","kaisi","kyun","kyu","kiu","kiun","kab","kahan","kaun","kon","kitna","kitne","kitni","hai","hain","hun","tha","thi","hoga","hogi","hona","hoti","hota","honge","karo","karna","karta","karti","karke","karunga","kiya","kiye","karenge","karte","karega","karegi","bolo","bolna","bolta","bola","boli","bolte","bolti","batao","batana","bataya","batayi","batate","bata","jao","jana","jata","jati","gaya","gayi","jayega","jaate","jate","jaega","jaana","aao","aana","aata","aaya","aayi","aayega","aate","ate","ata","aati","aaty","dekho","dekhna","dekha","dekhi","dekhega","dekhte","dekh","suno","sunna","suna","suni","sunega","sunte","sun","chalo","chalna","chala","chali","chalega","chalte","chal","milo","milna","mila","mili","milega","milte","mil","milti","ruko","rukna","ruka","ruki","ruk","socho","sochna","socha","sochi","soch","sochte","samjho","samajhna","samjha","samjhi","samajh","samjhte","rehna","rehta","rehti","rahega","rahna","raha","rahi","rahe","rahte","banao","banna","bana","bani","banega","bante","khelo","khelna","khela","kheli","khel","khelte","padho","padhna","padha","padhi","padh","padhte","likho","likhna","likha","likhi","likh","likhte","dena","deta","deti","diya","diye","dega","degi","dete","lena","leta","leti","liya","liye","lega","legi","lete","sakta","sakti","sakte","chahiye","chahte","chahta","chahe","pata","maloom","malum","nahi","nahin","nai","mat","acha","accha","acchi","acche","theek","thik","sahi","galat","bahut","bohot","boht","zyada","jyada","thoda","thodi","thode","bada","badi","bade","bara","bari","bare","chota","choti","chote","naya","nayi","naye","purana","purani","purane","itna","itni","itne","itny","utna","utni","utne","ganda","gandi","gande","gandey","gandy","ajeeb","mazaak","mazak","abhi","phir","fir","baad","pehle","pahle","aaj","kal","parso","subah","dopahar","shaam","raat","yaar","yar","bhai","bhaiya","behen","behn","dost","beta","beti","bacha","jaan","jan","amma","abba","abbu","ammi","ghar","kamra","jagah","dukan","kaam","paisa","paise","cheez","cheezein","baat","baatein","khana","paani","chai","doodh","dimaag","dimaagh","dimag","dil","ankh","aankh","hath","haath","pair","duniya","zindagi","waqt","log","banda","bande","bandi","masla","mushkil","taklif","pareshani","dikkat","aur","lekin","magar","kyunki","kyuki","isliye","toh","bhi","wala","wali","wale","ka","ki","ke","ko","se","ne","par","pe","salam","namaste","namaskar","shukriya","dhanyavad","alvida","khudahafiz","haan","han","ji","bilkul","zaroor","shayad","bas","sirf","waise","aise","jaise","wese","ese","yahan","wahan","idhar","udhar","paas","andar","bahar","kuch","kuj","sab","sabhi","koi","har","hamesha"]),E=new Set(["tm","ap","nhi","ni","hy","hen","kro","kra","rha","rhi","rhe","kr","sy","mje","mjhe","karra","krra","krrha","krrahi","horra","horrha"]),A=new Set(["the","a","an","in","on","at","to","for","of","with","from","by","about","into","through","during","before","after","above","below","between","under","over","i","you","he","she","it","we","they","me","him","her","us","them","my","your","his","its","our","their","this","that","these","those","who","whom","whose","which","what","where","when","why","how","is","am","are","was","were","be","been","being","have","has","had","do","does","did","will","would","could","should","may","might","must","shall","can","get","got","getting","make","made","making","go","going","went","gone","come","coming","came","see","saw","seen","seeing","know","knew","known","think","thought","thinking","want","wanted","wanting","take","took","taken","taking","give","gave","given","find","found","finding","tell","told","telling","say","said","saying","ask","asked","asking","use","used","using","try","tried","trying","need","needed","needing","feel","felt","feeling","become","became","becoming","leave","left","leaving","put","putting","mean","meant","meaning","keep","kept","keeping","let","begin","began","begun","seem","seemed","seeming","help","helped","helping","show","showed","shown","showing","hear","heard","play","played","playing","run","ran","running","move","moved","moving","live","lived","living","believe","believed","work","worked","working","proud","happy","sad","angry","excited","good","bad","new","old","great","big","small","little","long","short","high","low","young","right","wrong","best","better","worst","worse","same","different","just","also","very","really","actually","basically","now","then","here","there","always","never","often","still","already","yet","soon","again","ever","even","well","much","more","most","less","least","only","and","but","or","so","because","although","though","however","therefore","since","while","unless","until","if","whether","as","than","lol","lmao","omg","wtf","idk","btw","tbh","imo","fyi","brb","gtg","nvm","smh","ikr","rn","af","ngl","fr","lowkey","highkey","vibe","vibes","mood","flex","cap","sus","slay","bet","lit","fire","based","cringe","dude","bro","bruh","man","guys","fam","homie","gg","ayo","yo","yoo","damn","dang","wow","like","post","share","comment","follow","subscribe","video","photo","image","link","chat","message","dm","online","offline","website","app","account","profile"]);function D(a){let t=a.toLowerCase().trim().split(/\s+/).filter(h=>h.length>0),n=t.length;if(n===0)return{isHindiUrdu:!1,confidence:0,hindiWordCount:0,englishWordCount:0,totalWords:0,reason:"empty"};let o=0,r=0;for(let h of t){let c=h.replace(/[^a-z0-9]/g,"");c&&(S.has(c)||E.has(c)?o++:A.has(c)&&r++)}let l=!1,s=0,i="";return o===0?(l=!1,s=100,i="no Hindi/Urdu words found"):o>=2?(l=!0,s=Math.min(95,50+o*10),i=`${o} Hindi/Urdu words detected`):o===1&&r===0?(l=!0,s=60,i="1 Hindi word, no English"):o===1&&r<=1&&n<=4?(l=!0,s=55,i="Hindi word in short message"):(l=!1,s=80,i=`${r} English vs ${o} Hindi`),{isHindiUrdu:l,confidence:s,hindiWordCount:o,englishWordCount:r,totalWords:n,reason:i}}function p(a){if(a.length<3||/^https?:\/\//.test(a)||/^[\/!\.]\w+/.test(a)||/^```/.test(a)||/^<[@#]/.test(a))return!1;let e=D(a);return e.hindiWordCount>0&&console.log(`[CCVibe] Detection: "${a.substring(0,50)}${a.length>50?"...":""}" \u2192 ${e.isHindiUrdu?"HINDI":"ENGLISH"} (${e.confidence}% - ${e.reason})`),e.isHindiUrdu&&e.confidence>=50}var d=new Map,z=500;function w(){d.clear()}var g={bc:"sister f***er",mc:"mother f***er",bsdk:"born of a sister f***er",bhosdike:"born of a loose woman",bhosdi:"loose woman",madarchod:"mother f***er",behenchod:"sister f***er",chutiya:"idiot/fool",chutiye:"idiots/fools",gandu:"a**hole",gaand:"a**",lodu:"d**khead",lund:"d**k",chod:"f**k",chodna:"to f**k",randi:"prostitute",harami:"bastard",haramkhor:"illegitimate",kamina:"scoundrel",kameena:"scoundrel",kutte:"dog (insult)",kutta:"dog (insult)",suar:"pig (insult)",ullu:"owl (idiot)",gadha:"donkey (idiot)",bakwas:"nonsense",bewakoof:"stupid",pagal:"crazy",saala:"brother-in-law (insult)",saali:"sister-in-law (insult)",kya:"what",hai:"is",hain:"are",nahi:"no/not",haan:"yes",acha:"good/okay",accha:"good/okay",theek:"okay/fine",bahut:"very/much",bohot:"very/much",zyada:"more/too much",thoda:"a little",abhi:"now",baad:"after/later",pehle:"before/first",yaar:"friend/dude",bhai:"brother",behen:"sister",ni:"not",nhi:"no",koi:"someone",masla:"problem",toh:"so",karra:"doing",kara:"doing",krra:"doing","kar rha":"doing","kar raha":"doing","ho rha":"happening","ho raha":"happening","chal rha":"going on","chal raha":"going on","koi masla":"any problem","kya chal raha":"what's going on","kya ho raha":"what's happening","kaise ho":"how are you","theek hai":"okay/fine","accha hai":"it's good","bura hai":"it's bad","pata nahi":"don't know","samajh nahi":"don't understand","bol na":"say it","bata na":"tell me","sun be":"listen","dekh be":"look/see","chal be":"come on","haan bhai":"yes brother","nahi yaar":"no dude","kya baat hai":"what's the matter/wow","koi ni":"no problem","koi nahi":"no one/no problem"};async function L(a){try{let e=`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=en&dt=t&q=${encodeURIComponent(a)}`,t=await fetch(e);if(!t.ok)return console.log(`[CCVibe] Google Translate HTTP error: ${t.status}`),null;let n=await t.json();if(n&&n[0]&&Array.isArray(n[0])){let o=n[0].filter(r=>r&&Array.isArray(r)&&r[0]).map(r=>r[0]).join("");if(o&&U(a,o))return o}return null}catch(e){return console.error("[CCVibe] Google Translate error:",e),null}}function I(a){let e=a.toLowerCase().trim(),t=e.replace(/[?!.,]/g,"").trim();if(g[t])return g[t];let n=e,o=!1,r=Object.entries(g).filter(([i])=>i.includes(" ")).sort((i,h)=>h[0].length-i[0].length);for(let[i,h]of r)n.includes(i)&&(n=n.replace(new RegExp(i,"gi"),h),o=!0);let s=n.split(/\s+/).map(i=>{let h=i.replace(/[?!.,]/g,"").toLowerCase(),c=i.match(/[?!.,]+$/)?.[0]||"";return g[h]?(o=!0,g[h]+c):i});if(o){let i=s.join(" ");return console.log(`[CCVibe] Dictionary translating: "${a}" \u2192 "${i}"`),i}return null}function U(a,e){if(!e)return!1;let t=a.toLowerCase().replace(/[^a-z0-9]/g,""),n=e.toLowerCase().replace(/[^a-z0-9]/g,"");return t!==n}async function C(a){let e=d.get(a);if(e)return e;let t=(o,r)=>{let l={original:a,translated:o,sourceLanguage:r};if(d.size>=z){let s=d.keys().next().value;s&&d.delete(s)}return d.set(a,l),l},n=Date.now();try{let o=await L(a);if(o)return console.log(`[CCVibe] Google (${Date.now()-n}ms): "${a}" \u2192 "${o}"`),t(o,"google");let r=I(a);return r?(console.log(`[CCVibe] Dictionary (${Date.now()-n}ms): "${a}" \u2192 "${r}"`),t(r,"dictionary")):(console.log(`[CCVibe] No translation found for: "${a}"`),{original:a,translated:a,sourceLanguage:"unchanged"})}catch(o){return console.error("[CCVibe] Translation error:",o),{original:a,translated:a,sourceLanguage:"error"}}}var u=[],f=new Map;async function v(a){if(!a?.content||typeof a.content!="string"||a.content.length<3||!p(a.content))return;let e=a.content,t=f.get(e);if(t){a.content=t;return}try{console.log("[CCVibe] Translating:",e);let n=await C(e);if(n.translated!==n.original){let o=y.storage.showOriginalOnTap?`${n.translated} [${e}]`:n.translated;f.set(e,o),a.content=o,console.log("[CCVibe] Translated to:",o)}}catch(n){console.error("[CCVibe] Translation error:",n)}}var W={onLoad:()=>{var a;console.log("[CCVibe] Starting plugin..."),(a=y.storage).showOriginalOnTap??(a.showOriginalOnTap=!0);try{let e=(0,k.before)("dispatch",T.FluxDispatcher,t=>{let n=t[0];return n?.type==="MESSAGE_CREATE"&&n?.message&&v(n.message),t});u.push(e),console.log("[CCVibe] Hooked MESSAGE_CREATE")}catch(e){console.error("[CCVibe] Failed to hook FluxDispatcher:",e)}try{let e=(0,m.findByStoreName)("MessageStore");if(e?.getMessage){let t=(0,k.before)("getMessage",e,n=>n);u.push(t),console.log("[CCVibe] Found MessageStore")}}catch(e){console.log("[CCVibe] MessageStore not available:",e)}try{let e=(0,m.findByProps)("sendMessage","receiveMessage");if(e?.receiveMessage){let t=(0,k.before)("receiveMessage",e,n=>(n[1]?.message&&v(n[1].message),n));u.push(t),console.log("[CCVibe] Hooked receiveMessage")}}catch(e){console.log("[CCVibe] receiveMessage not found:",e)}console.log("[CCVibe] Plugin loaded with",u.length,"patches!")},onUnload:()=>{console.log("[CCVibe] Unloading...");for(let a of u)try{a()}catch(e){console.error("[CCVibe] Error unpatching:",e)}u.length=0,f.clear(),w(),console.log("[CCVibe] Unloaded!")}};
