"use strict";var l=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var m=Object.prototype.hasOwnProperty;var p=(o,n)=>{for(var e in n)l(o,e,{get:n[e],enumerable:!0})},k=(o,n,e,t)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of g(n))!m.call(o,a)&&a!==e&&l(o,a,{get:()=>n[a],enumerable:!(t=f(n,a))||t.enumerable});return o};var y=o=>k(l({},"__esModule",{value:!0}),o);var S={};p(S,{default:()=>w,onLoad:()=>b,onUnload:()=>C});module.exports=y(S);var c=[],h=new Map,E=new Set(["kya","hai","hain","nahi","nhi","acha","accha","theek","thik","kaise","kaisa","kyun","kyu","kab","kahan","kaun","kon","mein","main","mujhe","mera","meri","tum","tumhara","aap","yeh","ye","woh","wo","koi","kuch","sab","bahut","bohot","aur","lekin","par","toh","bhi","hi","na","mat","kar","karo","karna","bolo","bol","dekho","dekh","suno","sun","chalo","chal","jao","ja","aao","aa","lo","le","do","de","yaar","bhai","behen","dost","log","ghar","kaam","pata","maloom","samajh","soch","baat","cheez","abhi","baad","pehle","kal","aaj","raat","subah","bura","sahi","galat","zyada","thoda","haan","han","ji","bilkul","zaroor","shayad","masla","mushkil","pareshani","dikkat","taklif","karra","krra","horra","rha","rhi","ho","hy"]);function d(o){if(!o||o.length<3)return!1;let n=o.toLowerCase().split(/\s+/),e=0;for(let t of n)E.has(t.replace(/[^a-z]/g,""))&&e++;return e>=2}async function V(o){try{let n=`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=en&dt=t&q=${encodeURIComponent(o)}`,e=await fetch(n);if(!e.ok)return o;let t=await e.json();if(t?.[0]){let a=t[0].filter(s=>s?.[0]).map(s=>s[0]).join("");if(a&&a.toLowerCase()!==o.toLowerCase())return a}}catch{}return o}function i(o,n){try{let{Alert:e}=require("react-native");e?.alert?.(o,n)}catch{console.log("[CCVibe]",o,n)}}var b=()=>{console.log("[CCVibe] onLoad called"),i("CCVibe","Plugin is loading...");let o=null,n=0;try{o=require("@vendetta/metro/common")?.FluxDispatcher,o&&console.log("[CCVibe] Got FluxDispatcher from metro/common")}catch(e){console.log("[CCVibe] metro/common failed:",e)}if(!o)try{let{findByProps:e}=require("@vendetta/metro");o=e("dispatch","subscribe"),o&&console.log("[CCVibe] Got FluxDispatcher via findByProps")}catch(e){console.log("[CCVibe] findByProps failed:",e)}if(o?.subscribe){let e=async t=>{let a=t?.message;if(!(!a?.content||typeof a.content!="string")&&d(a.content)){console.log("[CCVibe] Hindi detected:",a.content);let s=h.get(a.content);if(s){a.content=s;return}let r=await V(a.content);if(r!==a.content){let u=`${r} [${a.content}]`;h.set(a.content,u),a.content=u,console.log("[CCVibe] Translated:",r)}}};o.subscribe("MESSAGE_CREATE",e),c.push(()=>o.unsubscribe("MESSAGE_CREATE",e)),n++,console.log("[CCVibe] Subscribed to MESSAGE_CREATE")}if(o?.dispatch)try{let{before:e}=require("@vendetta/patcher"),t=e("dispatch",o,a=>{let s=a[0];return s?.type==="MESSAGE_CREATE"&&s?.message?.content&&d(s.message.content)&&console.log("[CCVibe] Intercepted:",s.message.content),a});c.push(t),n++}catch{}n>0?i("CCVibe Loaded!",`Successfully set up ${n} hook(s).

Send a Hindi message to test!`):i("CCVibe Error",`Could not find FluxDispatcher.
Plugin may not work.`),console.log("[CCVibe] Loaded with",n,"hooks")},C=()=>{console.log("[CCVibe] Unloading");for(let o of c)try{o()}catch{}c.length=0,h.clear(),i("CCVibe","Plugin unloaded")},w={onLoad:b,onUnload:C};
