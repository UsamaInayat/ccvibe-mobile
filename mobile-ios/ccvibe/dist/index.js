"use strict";var y=Object.defineProperty;var T=Object.getOwnPropertyDescriptor;var M=Object.getOwnPropertyNames;var V=Object.prototype.hasOwnProperty;var $=(a,e)=>{for(var t in e)y(a,t,{get:e[t],enumerable:!0})},R=(a,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of M(e))!V.call(a,n)&&n!==t&&y(a,n,{get:()=>e[n],enumerable:!(i=T(e,n))||i.enumerable});return a};var H=a=>R(y({},"__esModule",{value:!0}),a);var E={};$(E,{default:()=>U});module.exports=H(E);var p=require("@vendetta/metro"),f=require("@vendetta/patcher"),w=require("@vendetta/plugin");var L=new Set(["mein","main","mei","mujhe","mera","meri","mere","humara","humari","humare","hum","ham","tum","tumhe","tumhara","tumhari","tumhare","aap","aapka","aapki","apka","apki","unka","unki","uska","uski","isko","usko","inhe","unhe","inka","yeh","ye","woh","wo","yehi","wohi","yahi","wahi","tera","teri","tere","kya","kaise","kaisa","kaisi","kyun","kyu","kiu","kiun","kab","kahan","kaun","kon","kitna","kitne","kitni","hai","hain","hun","tha","thi","hoga","hogi","hona","hoti","hota","honge","karo","karna","karta","karti","karke","karunga","kiya","kiye","karenge","karte","karega","karegi","bolo","bolna","bolta","bola","boli","bolte","bolti","batao","batana","bataya","batayi","batate","bata","jao","jana","jata","jati","gaya","gayi","jayega","jaate","jate","jaega","jaana","aao","aana","aata","aaya","aayi","aayega","aate","ate","ata","aati","aaty","dekho","dekhna","dekha","dekhi","dekhega","dekhte","dekh","suno","sunna","suna","suni","sunega","sunte","sun","chalo","chalna","chala","chali","chalega","chalte","chal","milo","milna","mila","mili","milega","milte","mil","milti","ruko","rukna","ruka","ruki","ruk","socho","sochna","socha","sochi","soch","sochte","samjho","samajhna","samjha","samjhi","samajh","samjhte","rehna","rehta","rehti","rahega","rahna","raha","rahi","rahe","rahte","banao","banna","bana","bani","banega","bante","khelo","khelna","khela","kheli","khel","khelte","padho","padhna","padha","padhi","padh","padhte","likho","likhna","likha","likhi","likh","likhte","dena","deta","deti","diya","diye","dega","degi","dete","lena","leta","leti","liya","liye","lega","legi","lete","sakta","sakti","sakte","chahiye","chahte","chahta","chahe","pata","maloom","malum","nahi","nahin","nai","mat","acha","accha","acchi","acche","theek","thik","sahi","galat","bahut","bohot","boht","zyada","jyada","thoda","thodi","thode","bada","badi","bade","bara","bari","bare","chota","choti","chote","naya","nayi","naye","purana","purani","purane","itna","itni","itne","itny","utna","utni","utne","ganda","gandi","gande","gandey","gandy","ajeeb","mazaak","mazak","abhi","phir","fir","baad","pehle","pahle","aaj","kal","parso","subah","dopahar","shaam","raat","yaar","yar","bhai","bhaiya","behen","behn","dost","beta","beti","bacha","jaan","jan","amma","abba","abbu","ammi","ghar","kamra","jagah","dukan","kaam","paisa","paise","cheez","cheezein","baat","baatein","khana","paani","chai","doodh","dimaag","dimaagh","dimag","dil","ankh","aankh","hath","haath","pair","duniya","zindagi","waqt","log","banda","bande","bandi","masla","mushkil","taklif","pareshani","dikkat","aur","lekin","magar","kyunki","kyuki","isliye","toh","bhi","wala","wali","wale","ka","ki","ke","ko","se","ne","par","pe","salam","namaste","namaskar","shukriya","dhanyavad","alvida","khudahafiz","haan","han","ji","bilkul","zaroor","shayad","bas","sirf","waise","aise","jaise","wese","ese","yahan","wahan","idhar","udhar","paas","andar","bahar","kuch","kuj","sab","sabhi","koi","har","hamesha"]),z=new Set(["tm","ap","nhi","ni","hy","hen","kro","kra","rha","rhi","rhe","kr","sy","mje","mjhe","karra","krra","krrha","krrahi","horra","horrha"]),D=new Set(["the","a","an","in","on","at","to","for","of","with","from","by","about","into","through","during","before","after","above","below","between","under","over","i","you","he","she","it","we","they","me","him","her","us","them","my","your","his","its","our","their","this","that","these","those","who","whom","whose","which","what","where","when","why","how","is","am","are","was","were","be","been","being","have","has","had","do","does","did","will","would","could","should","may","might","must","shall","can","get","got","getting","make","made","making","go","going","went","gone","come","coming","came","see","saw","seen","seeing","know","knew","known","think","thought","thinking","want","wanted","wanting","take","took","taken","taking","give","gave","given","find","found","finding","tell","told","telling","say","said","saying","ask","asked","asking","use","used","using","try","tried","trying","need","needed","needing","feel","felt","feeling","become","became","becoming","leave","left","leaving","put","putting","mean","meant","meaning","keep","kept","keeping","let","begin","began","begun","seem","seemed","seeming","help","helped","helping","show","showed","shown","showing","hear","heard","play","played","playing","run","ran","running","move","moved","moving","live","lived","living","believe","believed","work","worked","working","proud","happy","sad","angry","excited","good","bad","new","old","great","big","small","little","long","short","high","low","young","right","wrong","best","better","worst","worse","same","different","just","also","very","really","actually","basically","now","then","here","there","always","never","often","still","already","yet","soon","again","ever","even","well","much","more","most","less","least","only","and","but","or","so","because","although","though","however","therefore","since","while","unless","until","if","whether","as","than","lol","lmao","omg","wtf","idk","btw","tbh","imo","fyi","brb","gtg","nvm","smh","ikr","rn","af","ngl","fr","lowkey","highkey","vibe","vibes","mood","flex","cap","sus","slay","bet","lit","fire","based","cringe","dude","bro","bruh","man","guys","fam","homie","gg","ayo","yo","yoo","damn","dang","wow","like","post","share","comment","follow","subscribe","video","photo","image","link","chat","message","dm","online","offline","website","app","account","profile"]);function I(a){let t=a.toLowerCase().trim().split(/\s+/).filter(h=>h.length>0),i=t.length;if(i===0)return{isHindiUrdu:!1,confidence:0,hindiWordCount:0,englishWordCount:0,totalWords:0,reason:"empty"};let n=0,o=0;for(let h of t){let d=h.replace(/[^a-z0-9]/g,"");d&&(L.has(d)||z.has(d)?n++:D.has(d)&&o++)}let s=!1,l=0,r="";return n===0?(s=!1,l=100,r="no Hindi/Urdu words found"):n>=2?(s=!0,l=Math.min(95,50+n*10),r=`${n} Hindi/Urdu words detected`):n===1&&o===0?(s=!0,l=60,r="1 Hindi word, no English"):n===1&&o<=1&&i<=4?(s=!0,l=55,r="Hindi word in short message"):(s=!1,l=80,r=`${o} English vs ${n} Hindi`),{isHindiUrdu:s,confidence:l,hindiWordCount:n,englishWordCount:o,totalWords:i,reason:r}}function k(a){if(a.length<3||/^https?:\/\//.test(a)||/^[\/!\.]\w+/.test(a)||/^```/.test(a)||/^<[@#]/.test(a))return!1;let e=I(a);return e.hindiWordCount>0&&console.log(`[CCVibe] Detection: "${a.substring(0,50)}${a.length>50?"...":""}" \u2192 ${e.isHindiUrdu?"HINDI":"ENGLISH"} (${e.confidence}% - ${e.reason})`),e.isHindiUrdu&&e.confidence>=50}var g=new Map,S=500;function C(){g.clear()}var u={bc:"sister f***er",mc:"mother f***er",bsdk:"born of a sister f***er",bhosdike:"born of a loose woman",bhosdi:"loose woman",madarchod:"mother f***er",behenchod:"sister f***er",chutiya:"idiot/fool",chutiye:"idiots/fools",gandu:"a**hole",gaand:"a**",lodu:"d**khead",lund:"d**k",chod:"f**k",chodna:"to f**k",randi:"prostitute",harami:"bastard",haramkhor:"illegitimate",kamina:"scoundrel",kameena:"scoundrel",kutte:"dog (insult)",kutta:"dog (insult)",suar:"pig (insult)",ullu:"owl (idiot)",gadha:"donkey (idiot)",bakwas:"nonsense",bewakoof:"stupid",pagal:"crazy",saala:"brother-in-law (insult)",saali:"sister-in-law (insult)",kya:"what",hai:"is",hain:"are",nahi:"no/not",haan:"yes",acha:"good/okay",accha:"good/okay",theek:"okay/fine",bahut:"very/much",bohot:"very/much",zyada:"more/too much",thoda:"a little",abhi:"now",baad:"after/later",pehle:"before/first",yaar:"friend/dude",bhai:"brother",behen:"sister",ni:"not",nhi:"no",koi:"someone",masla:"problem",toh:"so",karra:"doing",kara:"doing",krra:"doing","kar rha":"doing","kar raha":"doing","ho rha":"happening","ho raha":"happening","chal rha":"going on","chal raha":"going on","koi masla":"any problem","kya chal raha":"what's going on","kya ho raha":"what's happening","kaise ho":"how are you","theek hai":"okay/fine","accha hai":"it's good","bura hai":"it's bad","pata nahi":"don't know","samajh nahi":"don't understand","bol na":"say it","bata na":"tell me","sun be":"listen","dekh be":"look/see","chal be":"come on","haan bhai":"yes brother","nahi yaar":"no dude","kya baat hai":"what's the matter/wow","koi ni":"no problem","koi nahi":"no one/no problem"};async function W(a){try{let e=`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=en&dt=t&q=${encodeURIComponent(a)}`,t=await fetch(e);if(!t.ok)return console.log(`[CCVibe] Google Translate HTTP error: ${t.status}`),null;let i=await t.json();if(i&&i[0]&&Array.isArray(i[0])){let n=i[0].filter(o=>o&&Array.isArray(o)&&o[0]).map(o=>o[0]).join("");if(n&&O(a,n))return n}return null}catch(e){return console.error("[CCVibe] Google Translate error:",e),null}}function A(a){let e=a.toLowerCase().trim(),t=e.replace(/[?!.,]/g,"").trim();if(u[t])return u[t];let i=e,n=!1,o=Object.entries(u).filter(([r])=>r.includes(" ")).sort((r,h)=>h[0].length-r[0].length);for(let[r,h]of o)i.includes(r)&&(i=i.replace(new RegExp(r,"gi"),h),n=!0);let l=i.split(/\s+/).map(r=>{let h=r.replace(/[?!.,]/g,"").toLowerCase(),d=r.match(/[?!.,]+$/)?.[0]||"";return u[h]?(n=!0,u[h]+d):r});if(n){let r=l.join(" ");return console.log(`[CCVibe] Dictionary translating: "${a}" \u2192 "${r}"`),r}return null}function O(a,e){if(!e)return!1;let t=a.toLowerCase().replace(/[^a-z0-9]/g,""),i=e.toLowerCase().replace(/[^a-z0-9]/g,"");return t!==i}async function v(a){let e=g.get(a);if(e)return e;let t=(n,o)=>{let s={original:a,translated:n,sourceLanguage:o};if(g.size>=S){let l=g.keys().next().value;l&&g.delete(l)}return g.set(a,s),s},i=Date.now();try{let n=await W(a);if(n)return console.log(`[CCVibe] Google (${Date.now()-i}ms): "${a}" \u2192 "${n}"`),t(n,"google");let o=A(a);return o?(console.log(`[CCVibe] Dictionary (${Date.now()-i}ms): "${a}" \u2192 "${o}"`),t(o,"dictionary")):(console.log(`[CCVibe] No translation found for: "${a}"`),{original:a,translated:a,sourceLanguage:"unchanged"})}catch(n){return console.error("[CCVibe] Translation error:",n),{original:a,translated:a,sourceLanguage:"error"}}}var m=[],b=new Map,c=new Set;async function j(a){if(!a||a.length<3||!k(a))return a;let e=b.get(a);if(e)return e;if(c.has(a))return a;c.add(a);try{let t=await v(a);if(c.delete(a),t.translated!==t.original)return b.set(a,t.translated),w.storage.showOriginalOnTap?`${t.translated} [${a}]`:t.translated}catch(t){console.error("[CCVibe] Translation error:",t),c.delete(a)}return a}var U={onLoad:()=>{var t;console.log("[CCVibe] Loading plugin..."),(t=w.storage).showOriginalOnTap??(t.showOriginalOnTap=!0);let a=null,e=null;try{a=(0,p.findByProps)("getMessage","getMessages"),e=(0,p.findByProps)("receiveMessage")}catch(i){console.error("[CCVibe] Failed to find Discord modules:",i)}if(e?.receiveMessage)try{let i=(0,f.before)("receiveMessage",e,n=>{let o=n[0];return o?.content&&typeof o.content=="string"&&k(o.content)&&j(o.content).then(s=>{s!==o.content&&(o.content=s)}).catch(s=>console.error("[CCVibe] Translation error:",s)),n});m.push(i),console.log("[CCVibe] Patched receiveMessage")}catch(i){console.error("[CCVibe] Failed to patch receiveMessage:",i)}else console.log("[CCVibe] MessageActions.receiveMessage not found");if(a?.getMessage)try{let i=(0,f.after)("getMessage",a,(n,o)=>{if(!o?.content||typeof o.content!="string")return o;let s=b.get(o.content);return s?{...o,content:s}:(k(o.content)&&j(o.content),o)});m.push(i),console.log("[CCVibe] Patched getMessage")}catch(i){console.error("[CCVibe] Failed to patch getMessage:",i)}else console.log("[CCVibe] MessageStore.getMessage not found");console.log("[CCVibe] Plugin loaded!")},onUnload:()=>{console.log("[CCVibe] Unloading plugin...");for(let a of m)try{a()}catch(e){console.error("[CCVibe] Error removing patch:",e)}m.length=0,b.clear(),c.clear(),C(),console.log("[CCVibe] Plugin unloaded!")}};
